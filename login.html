<!-- Adapted from http://codepen.io/matthu185/pen/myyvgr -->
<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Log in</title>
	<link href='http://fonts.googleapis.com/css?family=Nunito:400,300' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="login_style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
</head>

<body>
	<script>
	function login() {
		var email = document.getElementById("mail").value;
		var password = document.getElementById("password").value;
		$.post(
			"login.php",
			{email: email, password: password},
			function(response) {
				var str0 = "Success!"; // This doesn't have a NULL-terminator.
				var str1 = response.substring(0, response.length - 1); // The response has a NULL-terminator.
				// The NULL-terminator affects the comparison.
				if (str0 == str1) {
					// Login succeeded.
					var cookie0 = "username=";
					var cookie1 = cookie0 + email + ";path=/;";
					document.cookie = cookie1;
					document.location.href = "index.html";
				} else {
					// Login did not succeed.
					alert("Login unsuccessful.");
				}
			});
	}
	</script>

	<h1>Log in</h1>
	<label for="mail">Email:</label>
	<input type="email" id="mail">
	<label for="password">Password:</label>
	<input type="password" id="password">
	<button type="submit" onclick="login()">Log in</button>
	<a href="register.html">Don't have an account?</a>
    </body>
</html>

